{"title":"数据库代码","slug":"敲过的代码","date":"2020-09-16T16:30:12.000Z","updated":"2020-11-20T01:33:08.327Z","comments":true,"path":"api/articles/敲过的代码.json","photos":[],"link":"","excerpt":"1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>--会员表<br>create table user<br>(<br>uid  char(4) primary key  not null,<br>uname varchar(20),<br>email varchar(20),<br>tnum varchar(15),<br>score int<br>)ENGINE&#x3D;MyISAM DEFAULT CHARSET&#x3D;gb2312;<br>","covers":null,"content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--会员表</span><br><span class=\"line\">create table user</span><br><span class=\"line\">(</span><br><span class=\"line\">uid  char(4) primary key  not null,</span><br><span class=\"line\">uname varchar(20),</span><br><span class=\"line\">email varchar(20),</span><br><span class=\"line\">tnum varchar(15),</span><br><span class=\"line\">score int</span><br><span class=\"line\">)ENGINE&#x3D;MyISAM DEFAULT CHARSET&#x3D;gb2312;</span><br></pre></td></tr></table></figure>\n <a id=\"more\"></a>\n <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--类别表</span><br><span class=\"line\">create table category</span><br><span class=\"line\">(</span><br><span class=\"line\">cid int  primary key not null,</span><br><span class=\"line\">cname varchar(16)</span><br><span class=\"line\">)ENGINE&#x3D;MyISAM DEFAULT CHARSET&#x3D;gb2312;</span><br><span class=\"line\">--图书表</span><br><span class=\"line\">create table book</span><br><span class=\"line\">(</span><br><span class=\"line\">bid int  not null primary key,</span><br><span class=\"line\">bname varchar(50) not null,</span><br><span class=\"line\">author char(8),</span><br><span class=\"line\">price float,</span><br><span class=\"line\">publisher varchar(50),</span><br><span class=\"line\">discount float,</span><br><span class=\"line\">cid int,</span><br><span class=\"line\">constraint fk_book_category foreign key (cid) references category(cid)</span><br><span class=\"line\">)ENGINE&#x3D;MyISAM DEFAULT CHARSET&#x3D;gb2312;</span><br><span class=\"line\"></span><br><span class=\"line\">--订购表</span><br><span class=\"line\">create table b_order</span><br><span class=\"line\">(</span><br><span class=\"line\"> bid int not null,</span><br><span class=\"line\"> uid char(4) not null,</span><br><span class=\"line\"> ordernum int default &#39;1&#39;,</span><br><span class=\"line\"> orededate datetime,</span><br><span class=\"line\"> deliverydate datetime</span><br><span class=\"line\">)ENGINE&#x3D;MyISAM DEFAULT CHARSET&#x3D;gb2312;</span><br><span class=\"line\"></span><br><span class=\"line\">create table studentinfo(</span><br><span class=\"line\">  son char(8) primary key not null,</span><br><span class=\"line\">  sname varchar(10) not null,</span><br><span class=\"line\">  sgender char(2),</span><br><span class=\"line\">  sbirth date,</span><br><span class=\"line\">  sclass varchar(10),</span><br><span class=\"line\">);</span><br><span class=\"line\">create table teachar(</span><br><span class=\"line\">  son char(8) primary key not null,</span><br><span class=\"line\">  sname varchar(10) not null,</span><br><span class=\"line\">  sgender char(2),</span><br><span class=\"line\">  tedu varchar(10),</span><br><span class=\"line\">  tpro varchar(8) default &#39;讲师&#39;</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">--(1)</span><br><span class=\"line\">update user</span><br><span class=\"line\">set uid &#x3D;&#39;何大姑&#39;</span><br><span class=\"line\">where uname &#39;1001&#39;;</span><br><span class=\"line\">--(2)</span><br><span class=\"line\">update b_order</span><br><span class=\"line\">set  ordernum &#x3D;&#39;10&#39;</span><br><span class=\"line\">where bid&#x3D;&#39;3&#39;and uid&#x3D;&#39;1003&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">update b_order</span><br><span class=\"line\">set orededate &#x3D; &#39;2016-10-01&#39;</span><br><span class=\"line\">where bid&#x3D;&#39;3&#39;and uid&#x3D;&#39;1003&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">update b_order</span><br><span class=\"line\">set deliverydate &#x3D;&#39;2016-10-03&#39;;</span><br><span class=\"line\">where bid&#x3D;&#39;3&#39;and uid&#x3D;&#39;1003&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">--(1)</span><br><span class=\"line\">delete from b_order</span><br><span class=\"line\">set (year)orededate &#x3D;&#39;2015&#39;;</span><br><span class=\"line\">where (year)orededate &#x3D;&#39;2015&#39;;</span><br><span class=\"line\"></span><br><span class=\"line\">--(2)</span><br><span class=\"line\">delete *</span><br><span class=\"line\">where book;</span><br><span class=\"line\">truncate table book;</span><br><span class=\"line\"></span><br><span class=\"line\">insert into user</span><br><span class=\"line\">values</span><br><span class=\"line\">    (&#39;1001&#39;,&#39;何仙姑&#39;,&#39;Hxg18@163.com&#39;,&#39;13320101991&#39;,&#39;20&#39;),</span><br><span class=\"line\">    (&#39;1002&#39;,&#39;平平人生&#39;,&#39;Lp011@126.com&#39;,&#39;13545158219&#39;,&#39;300&#39;),</span><br><span class=\"line\">    (&#39;1003&#39;,&#39;四十不惑&#39;,&#39;12345@qq.com&#39;,&#39;18688268828&#39;,&#39;1000&#39;),</span><br><span class=\"line\">    (&#39;1004&#39;,&#39;桃花岛主&#39;,&#39;810124@qq.com&#39;,&#39;1306811234&#39;,&#39;600&#39;),</span><br><span class=\"line\">    (&#39;1005&#39;,&#39;水灵&#39;,&#39;Hxg18@371.cn&#39;,&#39;15838182503&#39;,&#39;150&#39;),</span><br><span class=\"line\">    (&#39;1006&#39;,&#39;感动心灵&#39;,&#39;gandong@tom.com&#39;,&#39;13641161234&#39;,&#39;500&#39;);</span><br><span class=\"line\"></span><br><span class=\"line\">insert into book (bid,bname,author,price,publisher,discount,cid)</span><br><span class=\"line\">    values</span><br><span class=\"line\">    (&#39;1&#39;,&#39;中国时代&#39;,&#39;师永刚&#39;,&#39;39.0&#39;,&#39;作家出版社&#39;,&#39;27.8&#39;,&#39;1&#39;),</span><br><span class=\"line\">    (&#39;2&#39;,&#39;中国历史的屈辱&#39;,&#39;王重旭&#39;,&#39;26.0&#39;,&#39;华夏出版社&#39;,&#39;18.2&#39;,&#39;2&#39;),</span><br><span class=\"line\">    (&#39;3&#39;,&#39;就业要乘早&#39;,&#39;海文&#39;,&#39;28.0&#39;,&#39;海天出版社&#39;,&#39;19.3&#39;,&#39;3&#39;),</span><br><span class=\"line\">    (&#39;4&#39;,&#39;房间&#39;,&#39;艾玛&#39;,&#39;37.6&#39;,&#39;人民文学出版社&#39;,&#39;26.3&#39;,&#39;4&#39;),</span><br><span class=\"line\">    (&#39;5&#39;,&#39;平凡的世界&#39;,&#39;路遥&#39;,&#39;37.6&#39;,&#39;北京出版社&#39;,&#39;63.3&#39;,&#39;4&#39;),</span><br><span class=\"line\">    (&#39;6&#39;,&#39;心灵鸡汤&#39;,&#39;管然&#39;,&#39;27.0&#39;,&#39;大与出版社&#39;,&#39;20.0&#39;,&#39;3&#39;),</span><br><span class=\"line\">    (&#39;7&#39;,&#39;蜕&#39;,&#39;赵婷&#39;,&#39;32.0&#39;,&#39;上海出版社&#39;,&#39;28.5&#39;,&#39;3&#39;);</span><br><span class=\"line\"></span><br><span class=\"line\">insert into category(cid,cname)</span><br><span class=\"line\">values</span><br><span class=\"line\">   (&#39;1&#39;,&#39;历史&#39;),</span><br><span class=\"line\">   (&#39;2&#39;,&#39;家教&#39;),</span><br><span class=\"line\">   (&#39;3&#39;,&#39;文化&#39;),</span><br><span class=\"line\">   (&#39;4&#39;,&#39;小说&#39;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">insert into b_order(uid,bid,ordernum,orderdate)</span><br><span class=\"line\">values</span><br><span class=\"line\">   (&#39;1001&#39;,&#39;1&#39;,&#39;2&#39;,&#39;2016-03-12&#39;),</span><br><span class=\"line\">   (&#39;1001&#39;,&#39;3&#39;,&#39;1&#39;,&#39;2016-04-15&#39;),</span><br><span class=\"line\">   (&#39;1001&#39;,&#39;1&#39;,&#39;1&#39;,&#39;2016-09-15&#39;),</span><br><span class=\"line\">   (&#39;1003&#39;,&#39;7&#39;,&#39;1&#39;,&#39;2016-12-14&#39;),</span><br><span class=\"line\">   (&#39;1003&#39;,&#39;3&#39;,&#39;1&#39;,&#39;2016-10-10&#39;),</span><br><span class=\"line\">   (&#39;1005&#39;,&#39;5&#39;,&#39;1&#39;,&#39;2016-08-17&#39;),</span><br><span class=\"line\">   (&#39;1005&#39;,&#39;7&#39;,&#39;3&#39;,&#39;2016-11-12&#39;),</span><br><span class=\"line\">   (&#39;1006&#39;,&#39;5&#39;,&#39;1&#39;,&#39;2016-09-18&#39;),</span><br><span class=\"line\">   (&#39;1006&#39;,&#39;1&#39;,&#39;2&#39;,&#39;2016-10-21&#39;),</span><br><span class=\"line\">   (&#39;1006&#39;,&#39;7&#39;,&#39;2&#39;,&#39;2016-11-21&#39;);</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n","categories":[],"tags":[]}