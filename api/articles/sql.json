{"title":"sql","slug":"sql","date":"2020-12-12T05:52:06.000Z","updated":"2020-12-23T13:06:08.811Z","comments":true,"path":"api/articles/sql.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<h2 id=\"1、\"><a href=\"#1、\" class=\"headerlink\" title=\"1、\"></a>1、</h2><p> 新创建一个专业表t_class，字段如下：</p>\n<p>mid tinyint–专业号，主键</p>\n<p>系部 char（10）–系部名</p>\n<p>major  char（10）–专业</p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">create table t_class(    </span><br><span class=\"line\"></span><br><span class=\"line\">mid tinyint    --专业号，主键</span><br><span class=\"line\"></span><br><span class=\"line\">系部 char（10） --系部名</span><br><span class=\"line\"></span><br><span class=\"line\">major char（10） --专业</span><br><span class=\"line\"></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"2、\"><a href=\"#2、\" class=\"headerlink\" title=\"2、\"></a>2、</h2><p> 给表t_class添加以下数据：</p>\n<p>专业号：1，系部：计算机系，专业：物联网</p>\n<p>专业号：2，系部：计算机系，专业：软件</p>\n<p>专业号：3，系部：计算机系，专业：计算机应用</p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">insert into user(&#39;mid&#39;,&#39;系部&#39;,&#39;major&#39;)</span><br><span class=\"line\"></span><br><span class=\"line\">values</span><br><span class=\"line\"></span><br><span class=\"line\">(&#39;1&#39;,&#39;计算机系&#39;,&#39;物联网&#39;),</span><br><span class=\"line\"></span><br><span class=\"line\">(&#39;2&#39;,&#39;计算机系&#39;,&#39;软件&#39;),</span><br><span class=\"line\"></span><br><span class=\"line\">(&#39;3&#39;,&#39;计算机系&#39;,&#39;计算机应用&#39;);</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"3、\"><a href=\"#3、\" class=\"headerlink\" title=\"3、\"></a>3、</h2><p>查询显示学生个人信息：学号、姓名、性别、年龄、专业。</p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select   </span><br><span class=\"line\"></span><br><span class=\"line\">students.id 学号,students.name 姓名, students.sex 性别, t_class.major 专业，year（now()）- year(bofd) 年龄</span><br><span class=\"line\"></span><br><span class=\"line\">from  students,t_class</span><br><span class=\"line\"></span><br><span class=\"line\">where students.mid &#x3D; t_class.mid</span><br></pre></td></tr></table></figure>\n\n\n\n<hr>\n<h2 id=\"4、\"><a href=\"#4、\" class=\"headerlink\" title=\"4、\"></a>4、</h2><p>查询物联网专业所有同学MySQL数据库课程成绩，并按照成绩从高到底排序，按照成绩查询结果要求显示：学号、姓名、性别、课程名、成绩。</p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select  students.id 学号,students.name 姓名, students.sex 性别, courses.cname 课程名称, scores.score 分数</span><br><span class=\"line\"></span><br><span class=\"line\">from students,scores, courses</span><br><span class=\"line\"></span><br><span class=\"line\">where students.id &#x3D; scores.id   and scores.cid &#x3D; courses.cid</span><br><span class=\"line\"></span><br><span class=\"line\">ordre by  scores.score  DESC</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"5、\"><a href=\"#5、\" class=\"headerlink\" title=\"5、\"></a>5、</h2><p>统计各课程的平均成绩、最高分及最低分。</p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT cid,AVG(score) 平均分,MAX(score) 最高分, MIN(score) 最低分 </span><br><span class=\"line\">from scores</span><br><span class=\"line\">GROUP BY cid</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"6、\"><a href=\"#6、\" class=\"headerlink\" title=\"6、\"></a>6、</h2><p>统计各科成绩不及格人数。</p>\n<hr>\n<p>INSERT INTO scores<br>VALUES<br>(‘1’,’2’,’2’,’76.0’),<br>(‘1’,’2’,’2’,’60.0’),<br>(‘2’,’1’,’3’,’65.0’),<br>(‘1’,’2’,’3’,’66.0’),<br>(‘1’,’4’,’1’,NULL),<br>(‘1’,’4’,’2’,’81.0’),<br>(‘1’,’4’,’4’,’70.0’),<br>(‘1’,’4’,’6’,’67.0’),<br>(‘1’,’1’,’2’,’50.0’),<br>(‘6’,’2’,’2’,’87.0’),<br>(‘6’,’2’,’3’,’86.0’);</p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SELECT cid,COUNT(if( score &lt; 60 , TRUE, null ) )</span><br><span class=\"line\">from scores</span><br><span class=\"line\">GROUP BY cid </span><br><span class=\"line\">ORDER BY cid </span><br></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"新建\"><a href=\"#新建\" class=\"headerlink\" title=\"新建\"></a>新建</h1><p>create database 数据库名</p>\n<p>create table 数据表名</p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">create table user</span><br><span class=\"line\">(</span><br><span class=\"line\">    name char(4),</span><br><span class=\"line\">    tel int,</span><br><span class=\"line\">    content int,</span><br><span class=\"line\">    date VARCHAR(20)</span><br><span class=\"line\">)ENGINE&#x3D;MyISAM DEFAULT CHARSET&#x3D;gb2312;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"插入数据\"><a href=\"#插入数据\" class=\"headerlink\" title=\"插入数据\"></a>插入数据</h2><p>inster  into 表名</p>\n<p>values </p>\n<p>(</p>\n<p>)</p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">insert into user(uid,sname,email,tnum,score)</span><br><span class=\"line\">values</span><br><span class=\"line\"></span><br><span class=\"line\">(&#39;123456&#39;,&#39;qert&#39;,&#39;123123@qq.com&#39;,&#39;1456789&#39;,&#39;100&#39;),</span><br><span class=\"line\"></span><br><span class=\"line\">(&#39;123456&#39;,&#39;qert&#39;,&#39;123123@qq.com&#39;,&#39;1456789&#39;,&#39;100&#39;),</span><br><span class=\"line\"></span><br><span class=\"line\">(&#39;123456&#39;,&#39;qert&#39;,&#39;123123@qq.com&#39;,&#39;1456789&#39;,&#39;100&#39;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"修改数据\"><a href=\"#修改数据\" class=\"headerlink\" title=\"修改数据\"></a>修改数据</h2><p>update 表名</p>\n<p>set 列名 =‘要修改的数据’</p>\n<p>where 条件</p>\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update 表名</span><br><span class=\"line\">set orededate &#x3D; &#39;2016-10-01&#39; 要改的数据 </span><br><span class=\"line\">where bid&#x3D;&#39;3&#39;and uid&#x3D;&#39;1003&#39; 条件</span><br><span class=\"line\">条件要放后面</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"基础查询\"><a href=\"#基础查询\" class=\"headerlink\" title=\"基础查询\"></a>基础查询</h2><h2 id=\"高级查询\"><a href=\"#高级查询\" class=\"headerlink\" title=\"高级查询\"></a>高级查询</h2>","categories":[],"tags":[]}